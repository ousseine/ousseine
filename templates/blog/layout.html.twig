{% extends 'base.html.twig' %}
{% block title title %}
{% block admin_class 'flex flex-col' %}

{% block body %}
    <nav x-data="{ mobileMenuIsOpen: false }" x-on:click.away="mobileMenuIsOpen = false" class="bg-white/80 backdrop-blur-lg border-b border-gray-200 sticky top-0 z-50 py-3" aria-label="menu">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between">
            <a href="{{ path('home') }}" class="flex items-center space-x-2">
                <div class="h-6 w-auto">
                    <img src="{{ asset('images/logo_text.png') }}" class="size-full object-cover" alt="logo">
                </div>
            </a>
            <ul class="hidden items-center gap-4 md:flex">
                <li><twig:inputSearch action="{{ path('blog.search') }}" /></li>
                <li>
                    <twig:button type="link" link="{{ path('blog') }}" size="sm" label="Blog" />
                </li>

                {% if app.user %}
                    <li>
                        <twig:button type="link" variant="outline" link="{{ path('admin.post.index') }}" size="sm" label="Admin" />
                    </li>
                {% endif %}
            </ul>
            <button x-on:click="mobileMenuIsOpen = !mobileMenuIsOpen" x-bind:aria-expanded="mobileMenuIsOpen" x-bind:class="mobileMenuIsOpen ? 'fixed right-4 z-20' : null" type="button" class="flex text-slate-900 md:hidden" aria-label="mobile menu" aria-controls="mobileMenu">
                <twig:ux:icon name="mdi:close" class="size-6" x-cloak x-show="mobileMenuIsOpen" />
                <twig:ux:icon name="mdi:menu" class="size-6" x-cloak x-show="!mobileMenuIsOpen" />
            </button>
            <ul x-cloak x-show="mobileMenuIsOpen" x-transition:enter="transition motion-reduce:transition-none ease-out duration-300" x-transition:enter-start="-translate-y-full" x-transition:enter-end="translate-y-0" x-transition:leave="transition motion-reduce:transition-none ease-out duration-300" x-transition:leave-start="translate-y-0" x-transition:leave-end="-translate-y-full" id="mobileMenu" class="w-full fixed max-h-svh overflow-y-auto inset-x-0 top-0 z-10 flex flex-col gap-3 divide-y divide-outline rounded-b-radius border-b border-gray-200 bg-slate-50 px-6 pb-6 pt-15 bg-white md:hidden">
                <li><twig:inputSearch action="{{ path('blog.search') }}" /></li>
                <li>
                    <twig:button type="link" link="{{ path('blog') }}" size="md" class="w-full" label="Blog" />
                </li>
                {% if app.user %}
                    <li>
                        <twig:button type="link" variant="outline" link="{{ path('admin.post.index') }}" size="sm" label="Admin" class="w-full" />
                    </li>
                {% endif %}
            </ul>
        </div>
    </nav>

    <div class="relative flex-1 bg-slate-50 md:py-20 py-16">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            {% block content %}{% endblock %}
        </div>
    </div>

    <twig:footer />
{% endblock %}
