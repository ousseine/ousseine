{% props
    type = 'button',
    size = 'base',
    label = null,
    variant = 'default',
    icon = null,
    class = '',
%}

{% set variants = {
    'default': 'bg-primary text-primary-foreground hover:bg-primary/90',
    'secondary': 'bg-secondary text-secondary-foreground hover:bg-secondary/80',
    'destructive': 'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',
    'outline': 'border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',
    'ghost': 'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',
    'link': 'text-primary underline-offset-4 hover:underline'
} %}

{% set base_classes = "
    inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md
    font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none
    [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring
    focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20
    dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-gradient-to-r from-blue-600 to-purple-600
    hover:from-blue-700 hover:to-purple-700 shadow-xl hover:shadow-2xl transition-all duration-300
" %}

{% set sizes = {
    'sm': 'text-xs px-6 py-4',
    'base': 'text-sm px-8 py-6',
    'lg': 'text-lg w-full px-8 py-6',
} %}

{% set classes = [base_classes, sizes[size], variants[variant] ?? variants.default, sizes.base, class]|join(' ') %}

<button type="{{ type }}" class="{{ classes|trim }}">
    {{ label }}
    {% if icon %}
        <twig:ux:icon
                name="{{ icon }}"
                class="size-5 ml-2"
                style="width: 1em; height: 1em;"
        />
    {% endif %}
</button>